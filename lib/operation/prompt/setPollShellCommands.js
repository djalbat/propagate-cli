"use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
Object.defineProperty(exports, "default", {
    enumerable: true,
    get: function() {
        return setPollShellCommandsPromptOperation;
    }
});
const _necessary = require("necessary");
const _constants = require("../../constants");
const _validate = require("../../utilities/validate");
const _defaults = require("../../defaults");
const _descriptions = require("../../descriptions");
const { prompt } = _necessary.shellUtilities;
function setPollShellCommandsPromptOperation(proceed, abort, context) {
    const { shellCommands } = context, { poll } = shellCommands, pollShellCommands = poll, attempts = Infinity, description = _descriptions.POLL_SHELL_COMMANDS_DESCRIPTION, initialAnswer = pollShellCommands, validationFunction = _validate.validateShellCommands, options = {
        attempts,
        description,
        initialAnswer,
        validationFunction
    };
    prompt(options, (answer)=>{
        const pollShellCommands = answer, poll = pollShellCommands !== _constants.EMPTY_STRING ? pollShellCommands : _defaults.DEFAULT_POLL_SHELL_COMMANDS;
        Object.assign(shellCommands, {
            poll
        });
        proceed();
    });
}

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3NyYy9vcGVyYXRpb24vcHJvbXB0L3NldFBvbGxTaGVsbENvbW1hbmRzLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuXG5pbXBvcnQgeyBzaGVsbFV0aWxpdGllcyB9IGZyb20gXCJuZWNlc3NhcnlcIjtcblxuaW1wb3J0IHsgRU1QVFlfU1RSSU5HIH0gZnJvbSBcIi4uLy4uL2NvbnN0YW50c1wiO1xuaW1wb3J0IHsgdmFsaWRhdGVTaGVsbENvbW1hbmRzIH0gZnJvbSBcIi4uLy4uL3V0aWxpdGllcy92YWxpZGF0ZVwiO1xuaW1wb3J0IHsgREVGQVVMVF9QT0xMX1NIRUxMX0NPTU1BTkRTIH0gZnJvbSBcIi4uLy4uL2RlZmF1bHRzXCI7XG5pbXBvcnQgeyBQT0xMX1NIRUxMX0NPTU1BTkRTX0RFU0NSSVBUSU9OIH0gZnJvbSBcIi4uLy4uL2Rlc2NyaXB0aW9uc1wiO1xuXG5jb25zdCB7IHByb21wdCB9ID0gc2hlbGxVdGlsaXRpZXM7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHNldFBvbGxTaGVsbENvbW1hbmRzUHJvbXB0T3BlcmF0aW9uKHByb2NlZWQsIGFib3J0LCBjb250ZXh0KSB7XG4gIGNvbnN0IHsgc2hlbGxDb21tYW5kcyB9ID0gY29udGV4dCxcbiAgICAgICAgeyBwb2xsIH0gPSBzaGVsbENvbW1hbmRzLFxuICAgICAgICBwb2xsU2hlbGxDb21tYW5kcyA9IHBvbGwsIC8vL1xuICAgICAgICBhdHRlbXB0cyA9IEluZmluaXR5LFxuICAgICAgICBkZXNjcmlwdGlvbiA9IFBPTExfU0hFTExfQ09NTUFORFNfREVTQ1JJUFRJT04sXG4gICAgICAgIGluaXRpYWxBbnN3ZXIgPSBwb2xsU2hlbGxDb21tYW5kcywgLy8vXG4gICAgICAgIHZhbGlkYXRpb25GdW5jdGlvbiA9IHZhbGlkYXRlU2hlbGxDb21tYW5kcywgIC8vL1xuICAgICAgICBvcHRpb25zID0ge1xuICAgICAgICAgIGF0dGVtcHRzLFxuICAgICAgICAgIGRlc2NyaXB0aW9uLFxuICAgICAgICAgIGluaXRpYWxBbnN3ZXIsXG4gICAgICAgICAgdmFsaWRhdGlvbkZ1bmN0aW9uXG4gICAgICAgIH07XG5cbiAgcHJvbXB0KG9wdGlvbnMsIChhbnN3ZXIpID0+IHtcbiAgICBjb25zdCBwb2xsU2hlbGxDb21tYW5kcyA9IGFuc3dlciwgIC8vL1xuICAgICAgICAgIHBvbGwgPSAocG9sbFNoZWxsQ29tbWFuZHMgIT09IEVNUFRZX1NUUklORykgP1xuICAgICAgICAgICAgICAgICAgIHBvbGxTaGVsbENvbW1hbmRzIDpcbiAgICAgICAgICAgICAgICAgICAgIERFRkFVTFRfUE9MTF9TSEVMTF9DT01NQU5EUztcblxuICAgIE9iamVjdC5hc3NpZ24oc2hlbGxDb21tYW5kcywge1xuICAgICAgcG9sbFxuICAgIH0pO1xuXG4gICAgcHJvY2VlZCgpO1xuICB9KTtcbn1cbiJdLCJuYW1lcyI6WyJzZXRQb2xsU2hlbGxDb21tYW5kc1Byb21wdE9wZXJhdGlvbiIsInByb21wdCIsInNoZWxsVXRpbGl0aWVzIiwicHJvY2VlZCIsImFib3J0IiwiY29udGV4dCIsInNoZWxsQ29tbWFuZHMiLCJwb2xsIiwicG9sbFNoZWxsQ29tbWFuZHMiLCJhdHRlbXB0cyIsIkluZmluaXR5IiwiZGVzY3JpcHRpb24iLCJQT0xMX1NIRUxMX0NPTU1BTkRTX0RFU0NSSVBUSU9OIiwiaW5pdGlhbEFuc3dlciIsInZhbGlkYXRpb25GdW5jdGlvbiIsInZhbGlkYXRlU2hlbGxDb21tYW5kcyIsIm9wdGlvbnMiLCJhbnN3ZXIiLCJFTVBUWV9TVFJJTkciLCJERUZBVUxUX1BPTExfU0hFTExfQ09NTUFORFMiLCJPYmplY3QiLCJhc3NpZ24iXSwibWFwcGluZ3MiOiJBQUFBOzs7OytCQVdBOzs7ZUFBd0JBOzs7MkJBVE87MkJBRUY7MEJBQ1M7MEJBQ007OEJBQ0k7QUFFaEQsTUFBTSxFQUFFQyxNQUFNLEVBQUUsR0FBR0MseUJBQWM7QUFFbEIsU0FBU0Ysb0NBQW9DRyxPQUFPLEVBQUVDLEtBQUssRUFBRUMsT0FBTztJQUNqRixNQUFNLEVBQUVDLGFBQWEsRUFBRSxHQUFHRCxTQUNwQixFQUFFRSxJQUFJLEVBQUUsR0FBR0QsZUFDWEUsb0JBQW9CRCxNQUNwQkUsV0FBV0MsVUFDWEMsY0FBY0MsNkNBQStCLEVBQzdDQyxnQkFBZ0JMLG1CQUNoQk0scUJBQXFCQywrQkFBcUIsRUFDMUNDLFVBQVU7UUFDUlA7UUFDQUU7UUFDQUU7UUFDQUM7SUFDRjtJQUVOYixPQUFPZSxTQUFTLENBQUNDO1FBQ2YsTUFBTVQsb0JBQW9CUyxRQUNwQlYsT0FBTyxBQUFDQyxzQkFBc0JVLHVCQUFZLEdBQ2pDVixvQkFDRVcscUNBQTJCO1FBRTVDQyxPQUFPQyxNQUFNLENBQUNmLGVBQWU7WUFDM0JDO1FBQ0Y7UUFFQUo7SUFDRjtBQUNGIn0=