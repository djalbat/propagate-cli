"use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
Object.defineProperty(exports, "default", {
    enumerable: true,
    get: function() {
        return prepare;
    }
});
const _changeDirectory = /*#__PURE__*/ _interop_require_default(require("./changeDirectory"));
const _defaults = require("./defaults");
const _commands = require("./commands");
function _interop_require_default(obj) {
    return obj && obj.__esModule ? obj : {
        default: obj
    };
}
function prepare(command, argument, options, main) {
    const { help = _defaults.DEFAULT_HELP, version = _defaults.DEFAULT_VERSION } = options;
    if (false) {
    ///
    } else if (help) {
        command = _commands.HELP_COMMAND;
    } else if (version) {
        command = _commands.VERSION_COMMAND;
    }
    if (command === _commands.HELP_COMMAND || command === _commands.VERSION_COMMAND || command === _commands.INITIALISE_COMMAND) {
        main(command, argument, options);
        return;
    }
    const directoryName = (0, _changeDirectory.default)();
    if (directoryName !== null) {
        argument = directoryName; ///
    }
    if (argument === null) {
        if (command !== _commands.ADD_DIRECTORY_COMMAND && command !== _commands.REMOVE_DIRECTORY_COMMAND && command !== _commands.LIST_DIRECTORIES_COMMAND && command !== _commands.SET_SHELL_COMMANDS_COMMAND && command !== _commands.ADD_IGNORED_DEPENDENCY_COMMAND && command !== _commands.LIST_IGNORED_DEPENDENCIES_COMMAND && command !== _commands.REMOVE_IGNORED_DEPENDENCY_COMMAND && command !== _commands.ADD_FORCED_DEPENDENCY_RELATION_COMMAND && command !== _commands.LIST_FORCED_DEPENDENCY_RELATIONS_COMMAND && command !== _commands.REMOVE_FORCED_DEPENDENCY_RELATION_COMMAND) {
            argument = command; ///
            command = _commands.PROPAGATE_COMMAND;
        }
    }
    if (command === null) {
        command = _commands.PROPAGATE_COMMAND;
    }
    main(command, argument, options);
}

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uL3NyYy9wcmVwYXJlLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuXG5pbXBvcnQgY2hhbmdlRGlyZWN0b3J5IGZyb20gXCIuL2NoYW5nZURpcmVjdG9yeVwiO1xuXG5pbXBvcnQgeyBERUZBVUxUX0hFTFAsIERFRkFVTFRfVkVSU0lPTiB9IGZyb20gXCIuL2RlZmF1bHRzXCI7XG5pbXBvcnQgeyBIRUxQX0NPTU1BTkQsXG4gICAgICAgICBWRVJTSU9OX0NPTU1BTkQsXG4gICAgICAgICBQUk9QQUdBVEVfQ09NTUFORCxcbiAgICAgICAgIElOSVRJQUxJU0VfQ09NTUFORCxcbiAgICAgICAgIEFERF9ESVJFQ1RPUllfQ09NTUFORCxcbiAgICAgICAgIFJFTU9WRV9ESVJFQ1RPUllfQ09NTUFORCxcbiAgICAgICAgIExJU1RfRElSRUNUT1JJRVNfQ09NTUFORCxcbiAgICAgICAgIFNFVF9TSEVMTF9DT01NQU5EU19DT01NQU5ELFxuICAgICAgICAgQUREX0lHTk9SRURfREVQRU5ERU5DWV9DT01NQU5ELFxuICAgICAgICAgTElTVF9JR05PUkVEX0RFUEVOREVOQ0lFU19DT01NQU5ELFxuICAgICAgICAgUkVNT1ZFX0lHTk9SRURfREVQRU5ERU5DWV9DT01NQU5ELFxuICAgICAgICAgQUREX0ZPUkNFRF9ERVBFTkRFTkNZX1JFTEFUSU9OX0NPTU1BTkQsXG4gICAgICAgICBMSVNUX0ZPUkNFRF9ERVBFTkRFTkNZX1JFTEFUSU9OU19DT01NQU5ELFxuICAgICAgICAgUkVNT1ZFX0ZPUkNFRF9ERVBFTkRFTkNZX1JFTEFUSU9OX0NPTU1BTkQgfSBmcm9tIFwiLi9jb21tYW5kc1wiO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBwcmVwYXJlKGNvbW1hbmQsIGFyZ3VtZW50LCBvcHRpb25zLCBtYWluKSB7XG4gIGNvbnN0IHsgaGVscCA9IERFRkFVTFRfSEVMUCwgdmVyc2lvbiA9IERFRkFVTFRfVkVSU0lPTiB9ID0gb3B0aW9ucztcblxuICBpZiAoZmFsc2UpIHtcbiAgICAvLy9cbiAgfSBlbHNlIGlmIChoZWxwKSB7XG4gICAgY29tbWFuZCA9IEhFTFBfQ09NTUFORDtcbiAgfSBlbHNlIGlmICh2ZXJzaW9uKSB7XG4gICAgY29tbWFuZCA9IFZFUlNJT05fQ09NTUFORDtcbiAgfVxuXG4gIGlmICgoY29tbWFuZCA9PT0gSEVMUF9DT01NQU5EKSB8fFxuICAgICAgKGNvbW1hbmQgPT09IFZFUlNJT05fQ09NTUFORCkgfHxcbiAgICAgIChjb21tYW5kID09PSBJTklUSUFMSVNFX0NPTU1BTkQpKSB7XG5cbiAgICBtYWluKGNvbW1hbmQsIGFyZ3VtZW50LCBvcHRpb25zKTtcblxuICAgIHJldHVybjtcbiAgfVxuXG4gIGNvbnN0IGRpcmVjdG9yeU5hbWUgPSBjaGFuZ2VEaXJlY3RvcnkoKTtcblxuICBpZiAoZGlyZWN0b3J5TmFtZSAhPT0gbnVsbCkge1xuICAgIGFyZ3VtZW50ID0gZGlyZWN0b3J5TmFtZTsgLy8vXG4gIH1cblxuICBpZiAoYXJndW1lbnQgPT09IG51bGwpIHtcbiAgICBpZiAoKGNvbW1hbmQgIT09IEFERF9ESVJFQ1RPUllfQ09NTUFORCkgJiZcbiAgICAgICAgKGNvbW1hbmQgIT09IFJFTU9WRV9ESVJFQ1RPUllfQ09NTUFORCkgJiZcbiAgICAgICAgKGNvbW1hbmQgIT09IExJU1RfRElSRUNUT1JJRVNfQ09NTUFORCkgJiZcbiAgICAgICAgKGNvbW1hbmQgIT09IFNFVF9TSEVMTF9DT01NQU5EU19DT01NQU5EKSAmJlxuICAgICAgICAoY29tbWFuZCAhPT0gQUREX0lHTk9SRURfREVQRU5ERU5DWV9DT01NQU5EKSAmJlxuICAgICAgICAoY29tbWFuZCAhPT0gTElTVF9JR05PUkVEX0RFUEVOREVOQ0lFU19DT01NQU5EKSAmJlxuICAgICAgICAoY29tbWFuZCAhPT0gUkVNT1ZFX0lHTk9SRURfREVQRU5ERU5DWV9DT01NQU5EKSAmJlxuICAgICAgICAoY29tbWFuZCAhPT0gQUREX0ZPUkNFRF9ERVBFTkRFTkNZX1JFTEFUSU9OX0NPTU1BTkQpICYmXG4gICAgICAgIChjb21tYW5kICE9PSBMSVNUX0ZPUkNFRF9ERVBFTkRFTkNZX1JFTEFUSU9OU19DT01NQU5EKSAmJlxuICAgICAgICAoY29tbWFuZCAhPT0gUkVNT1ZFX0ZPUkNFRF9ERVBFTkRFTkNZX1JFTEFUSU9OX0NPTU1BTkQpKSB7XG5cbiAgICAgIGFyZ3VtZW50ID0gY29tbWFuZDsgLy8vXG5cbiAgICAgIGNvbW1hbmQgPSBQUk9QQUdBVEVfQ09NTUFORDtcbiAgICB9XG4gIH1cblxuICBpZiAoY29tbWFuZCA9PT0gbnVsbCkge1xuICAgIGNvbW1hbmQgPSBQUk9QQUdBVEVfQ09NTUFORDtcbiAgfVxuXG4gIG1haW4oY29tbWFuZCwgYXJndW1lbnQsIG9wdGlvbnMpO1xufVxuIl0sIm5hbWVzIjpbInByZXBhcmUiLCJjb21tYW5kIiwiYXJndW1lbnQiLCJvcHRpb25zIiwibWFpbiIsImhlbHAiLCJERUZBVUxUX0hFTFAiLCJ2ZXJzaW9uIiwiREVGQVVMVF9WRVJTSU9OIiwiSEVMUF9DT01NQU5EIiwiVkVSU0lPTl9DT01NQU5EIiwiSU5JVElBTElTRV9DT01NQU5EIiwiZGlyZWN0b3J5TmFtZSIsImNoYW5nZURpcmVjdG9yeSIsIkFERF9ESVJFQ1RPUllfQ09NTUFORCIsIlJFTU9WRV9ESVJFQ1RPUllfQ09NTUFORCIsIkxJU1RfRElSRUNUT1JJRVNfQ09NTUFORCIsIlNFVF9TSEVMTF9DT01NQU5EU19DT01NQU5EIiwiQUREX0lHTk9SRURfREVQRU5ERU5DWV9DT01NQU5EIiwiTElTVF9JR05PUkVEX0RFUEVOREVOQ0lFU19DT01NQU5EIiwiUkVNT1ZFX0lHTk9SRURfREVQRU5ERU5DWV9DT01NQU5EIiwiQUREX0ZPUkNFRF9ERVBFTkRFTkNZX1JFTEFUSU9OX0NPTU1BTkQiLCJMSVNUX0ZPUkNFRF9ERVBFTkRFTkNZX1JFTEFUSU9OU19DT01NQU5EIiwiUkVNT1ZFX0ZPUkNFRF9ERVBFTkRFTkNZX1JFTEFUSU9OX0NPTU1BTkQiLCJQUk9QQUdBVEVfQ09NTUFORCJdLCJtYXBwaW5ncyI6IkFBQUE7Ozs7K0JBb0JBOzs7ZUFBd0JBOzs7d0VBbEJJOzBCQUVrQjswQkFjWTs7Ozs7O0FBRTNDLFNBQVNBLFFBQVFDLE9BQU8sRUFBRUMsUUFBUSxFQUFFQyxPQUFPLEVBQUVDLElBQUk7SUFDOUQsTUFBTSxFQUFFQyxPQUFPQyxzQkFBWSxFQUFFQyxVQUFVQyx5QkFBZSxFQUFFLEdBQUdMO0lBRTNELElBQUksT0FBTztJQUNULEdBQUc7SUFDTCxPQUFPLElBQUlFLE1BQU07UUFDZkosVUFBVVEsc0JBQVk7SUFDeEIsT0FBTyxJQUFJRixTQUFTO1FBQ2xCTixVQUFVUyx5QkFBZTtJQUMzQjtJQUVBLElBQUksQUFBQ1QsWUFBWVEsc0JBQVksSUFDeEJSLFlBQVlTLHlCQUFlLElBQzNCVCxZQUFZVSw0QkFBa0IsRUFBRztRQUVwQ1AsS0FBS0gsU0FBU0MsVUFBVUM7UUFFeEI7SUFDRjtJQUVBLE1BQU1TLGdCQUFnQkMsSUFBQUEsd0JBQWU7SUFFckMsSUFBSUQsa0JBQWtCLE1BQU07UUFDMUJWLFdBQVdVLGVBQWUsR0FBRztJQUMvQjtJQUVBLElBQUlWLGFBQWEsTUFBTTtRQUNyQixJQUFJLEFBQUNELFlBQVlhLCtCQUFxQixJQUNqQ2IsWUFBWWMsa0NBQXdCLElBQ3BDZCxZQUFZZSxrQ0FBd0IsSUFDcENmLFlBQVlnQixvQ0FBMEIsSUFDdENoQixZQUFZaUIsd0NBQThCLElBQzFDakIsWUFBWWtCLDJDQUFpQyxJQUM3Q2xCLFlBQVltQiwyQ0FBaUMsSUFDN0NuQixZQUFZb0IsZ0RBQXNDLElBQ2xEcEIsWUFBWXFCLGtEQUF3QyxJQUNwRHJCLFlBQVlzQixtREFBeUMsRUFBRztZQUUzRHJCLFdBQVdELFNBQVMsR0FBRztZQUV2QkEsVUFBVXVCLDJCQUFpQjtRQUM3QjtJQUNGO0lBRUEsSUFBSXZCLFlBQVksTUFBTTtRQUNwQkEsVUFBVXVCLDJCQUFpQjtJQUM3QjtJQUVBcEIsS0FBS0gsU0FBU0MsVUFBVUM7QUFDMUIifQ==